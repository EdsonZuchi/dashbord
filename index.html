<!DOCTYPE html>
<html lang="ptbu">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WHITE AREAS</title>
    <link rel="stylesheet" href="includes/css/singe.css">
    <link rel="stylesheet" href="includes/css/style.css">
    <script src="includes/js/jquery-3.6.3.min.js"></script>
    <script src="includes/amcharts5/amcharts5/index.js"></script>
    <script src="includes/amcharts5/amcharts5/map.js"></script>
    <script src="includes/amcharts5/geodata/brazilLow.js"></script>
    <script src="includes/amcharts5/amcharts5/themes/Animated.js"></script>
    <script src="includes/statesGeoData/SC.js"></script>
    <script src="includes/statesGeoData/SP.js"></script>
    <script src="includes/statesGeoData/PR.js"></script>
    <script src="includes/statesGeoData/RS.js"></script>
    <script src="includes/statesGeoData/Brazil.js"></script>
    <script src="includes/statesGeoData/Sul.js"></script>
    <script src="includes/statesGeoData/Filial.js"></script>
    <script src="includes/amcharts5/amcharts5/xy.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const valFilter = urlParams.get("typeFilter");
        const valValue = urlParams.get("typeValue");
    </script>
</head>
<body>
    <form action="" method="get" name="pag">
    <div class="topo">
        <div class="topo_principal"></div>
        <div class="clear"></div>
        <div class="topo_secundario"></div>
    </div>

    <div class="filter">
        <div class="select">
            <span class="saien">Por</span>
            <select class="saien" name="typeFilter" id="typeFilter" onchange="sub_form()">
                <option value="1">Estado</option>
                <option value="2">Filial</option>
            </select>
        </div>
        <div class="select">
            <span class="saien">Pesquisa</span>
            <select class="saien" name="typeValue" id="typeValue" onchange="sub_form()">
                <option value="1">Clientes</option>
                <option value="2">Venda</option>
                <option value="3">Categoria Fio Domestico</option>
            </select>
        </div>
    </div>

    <div class="window">
        <div class="map">
            <div id="chartdiv"></div>
        </div>
        <div class="bar">
            <div id="divBar"></div>
        </div>
    </div>
    <!--
    <div class="window">
        <div class="repres">
            <div id="represdiv"></div>
        </div>
    </div>
    -->
    <br>
    <br>
    <a href="https://www.amcharts.com/demos/" target="_blank">Outro possiveis gr√°fico aqui</a>

    <script>
        function sub_form(){
            pag.submit();
        }
        if(valFilter == null){
            $('#typeFilter').val(1);
            $('#typeValue').val(1);
        }else{
            $('#typeFilter').val(valFilter);
            $('#typeValue').val(valValue);
        }

        var test = document.createElement('script');
        if($('#typeValue').val() == 1){
            test.src = 'includes/js/dadosdb.js';
        }
        if($('#typeValue').val() == 2){
            test.src = 'includes/js/dadosfil.js';
        }
        if($('#typeValue').val() == 3){
            test.src = 'includes/js/categoriaFio.js';
        }
        document.body.appendChild(test);

        setTimeout(function(){
            var script = document.createElement('script');
            if($('#typeFilter').val() == 1){
                script.src = 'includes/js/new_script.js';
            }else{
                script.src = 'includes/js/mapFilial.js';
            }
            document.body.appendChild(script);
        }, 100);
    </script>

    <script src="includes/js/bar_chart.js"></script>
    <script src="includes/js/repres_chart.js"></script>
    </form>
</body>
</html>